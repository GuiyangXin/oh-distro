group "0.development" {
    cmd "robot_deputy" {
        exec = "bot-procman-deputy -n robot";
        host = "localhost";
    }
    cmd "extra_deputy" {
        exec = "bot-procman-deputy -n extra";
        host = "localhost";
    }
    cmd "base_deputy" {
        exec = "bot-procman-deputy -n base";
        host = "localhost";
    }
    cmd "set-sim-rate" {
        exec = "drc-set-sim-rate 0.3";
        host = "robot";
    }
}

group "g.0.gazebo" {
    cmd "gz_mit_ingress" {
        exec = "roslaunch atlas_utils atlas_sandia_hands.launch gzworld:=$HOME/drc/ros_workspace/mit_drcsim_scripts/worlds/mit_ingress.world";
        host = "robot";
    }
    cmd "greg_standing" {
    exec = "roslaunch atlas_utils atlas_sandia_hands.launch gzworld:=$HOME/drc/ros_workspace/mit_drcsim_scripts/worlds/mit_walking.world";
    host = "robot";
    }
}

group "a.1.core" {
    cmd "aa-translators" {
        exec = "roslaunch translators cheating.launch";
        host = "robot";
    }
    cmd "viewer-REMOVEFORCOMP" {
        exec = "drc-viewer";
        host = "robot";
    }
    cmd "foot-state" {
       exec = "drc-foot-state";
        host = "extra";
    }
    cmd "pserver" {
        exec = "bot-param-server $HOME/drc/software/config/drc_robot.cfg";
        host = "extra";
    }
    cmd "modelpub" {
        exec = "robot_model_publisher -u $HOME/drc/software/models/mit_gazebo_models/mit_robot/model_sim.urdf";
        host = "extra";
    }
    cmd "estpub" {
        exec = "est_robot_state_publisher -g";
        host = "extra";
    }
    cmd "estpub2minimal" {
        exec = "est_robot_state_to_minimal -g";
        host = "extra";
    }
    cmd "j2f" {
        exec = "drc-joints2frames -g";
        host = "extra";
    }
    cmd "maps-server" {
        exec = "maps-server";
        host = "extra";
    }
    cmd "data-request-server" {
        exec = "data-request-server";
        host = "extra";
    }
    cmd "affordance-gaze" {
        exec = "affordance-gaze";
        host = "extra";
    }
    cmd "lidarfilt" {
        exec = "drc-lidar-passthrough";
        host = "extra";
    }
    cmd "image-tx" {
        exec = "drc-image-transmit";
        host = "extra";
    }
    cmd "aff_server" {
        exec = "affordance_server  -r robot";
        host = "extra";
    }
    cmd "init-laser" {
        exec = "drc-init-laser";
        host = "extra";
    }
    cmd "logger-robot-nocams" {
        exec = "lcm-logger -c 'CAMERA|CAMERALEFT' -v -f $HOME/drc/latest_robot_log.lcm";
        host = "extra";
    }
    cmd "drc-frequency" {
        exec = "drc-frequency";
        host = "extra";
    }
    cmd "image-rx-REMOVEFORCOMP" {
        exec = "drc-image-receive";
        host = "robot";
    }
}

group "authoring" {
    cmd "MotionPlanServer_from_seated" {
       exec = "matlab -nosplash -r \"cd([getenv('DRC_PATH'),'/control/matlab/']);actionAuthoringServer(3,struct('verbose',true,'debug',true,'initial_contact_groups',struct('linknames',{{'l_foot','l_foot','r_foot','r_foot','pelvis'}},'groupnames',{{'heel','toe','heel','toe','butt'}})));\""; host = "localhost";
    }

    cmd "MotionPlanServer_from_standing" {
       exec = "matlab -nosplash -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/planners']);actionAuthoringServer(3,struct('verbose',true,'debug',true,'initial_contact_groups',struct('linknames',{{'l_foot','l_foot','r_foot','r_foot'}},'groupnames',{{'heel','toe','heel','toe'}})));\""; host = "localhost";
    }

    cmd "MotionPlanServer_from_standing_oneshot" {
       exec = "matlab -nosplash -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/planners']);actionAuthoringServer(1,struct('verbose',true,'debug',true,'initial_contact_groups',struct('linknames',{{'l_foot','l_foot','r_foot','r_foot'}},'groupnames',{{'heel','toe','heel','toe'}})));\""; host = "localhost";
    }

    cmd "MotionPlanServer_from_prone" {
       exec = "matlab -nosplash -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/planners']);actionAuthoringServer(3,struct('verbose',true,'debug',true,'initial_contact_groups',struct('linknames',{{'r_foot', 'right_palm','l_foot','left_palm'}},'groupnames',{{'toe','knuckle','toe','knuckle'}})));\"";
       host = "localhost";
    }

    cmd "MotionPlanServer_from_prone_oneshot" {
       exec = "matlab -nosplash -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/planners']);actionAuthoringServer(1,struct('verbose',true,'debug',true,'initial_contact_groups',struct('linknames',{{'r_foot', 'right_palm','l_foot','left_palm'}},'groupnames',{{'toe','knuckle','toe','knuckle'}})));\"";
       host = "localhost";
    }

    cmd "MotionPlanServer_online" {
       exec = "matlab -nosplash -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/']);actionAuthoringServer(3,struct('verbose',true));\"";
       host = "localhost";
    }

    cmd "AuthoringGUI" {
       exec = "qt4-widget-authoring-lcm-interface-test ../models/mit_gazebo_models/mit_robot_drake/model_simple_visuals.urdf";
       host = "localhost";
    }
}

group "dev_tools" {
    cmd "DemoAffordanceServer" {
       exec = "demo_populate_aff_server";
       host = "localhost";
    }

    cmd "PublishPassengerSeatedState" {
       exec = "matlab -nosplash -nodesktop -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/util']);addpath dev_tools;cd([getenv('DRC_PATH'),'/control/matlab']);load data/aa_atlas_seated_passenger.mat;cd([getenv('DRC_PATH'),'/control/matlab/util']);publishRobotState(xstar,'EST_ROBOT_STATE');\"";
       host = "localhost";
    }

    cmd "PublishDriverSeatedState" {
       exec = "matlab -nosplash -nodesktop -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/util']);addpath dev_tools;cd([getenv('DRC_PATH'),'/control/matlab']);load data/aa_atlas_seated_forward.mat;cd([getenv('DRC_PATH'),'/control/matlab/util']);publishRobotState(xstar,'EST_ROBOT_STATE');\"";
       host = "localhost";
    }

    cmd "PublishStandingState" {
       exec = "matlab -nosplash -nodesktop -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/util']);addpath dev_tools;cd([getenv('DRC_PATH'),'/control/matlab']);load data/atlas_fp.mat;cd([getenv('DRC_PATH'),'/control/matlab/util']);publishRobotState(xstar,'EST_ROBOT_STATE');\"";
       host = "localhost";
    }

    cmd "PublishProneState" {
       exec = "matlab -nosplash -nodesktop -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/util']);addpath dev_tools;cd([getenv('DRC_PATH'),'/control/matlab']);load data/atlas_prone.mat;cd([getenv('DRC_PATH'),'/control/matlab/util']);publishRobotState(xstar,'EST_ROBOT_STATE');\"";
       host = "localhost";
    }

    cmd "PublishPreingressState" {
       exec = "matlab -nosplash -nodesktop -r \"addpath_control; cd([getenv('DRC_PATH'),'/control/matlab/util']);addpath dev_tools;cd([getenv('DRC_PATH'),'/control/matlab']);load data/aa_atlas_preingress.mat;cd([getenv('DRC_PATH'),'/control/matlab/util']);publishRobotState(xstar,'EST_ROBOT_STATE');\"";
       host = "localhost";
    }
}

script "dev.authoring_egress" { 
    start group "0.development";
    start group "a.1.core";
    start cmd "DemoAffordanceServer";
    start cmd "PublishPassengerSeatedState";
    start cmd "AuthoringGUI";
    start cmd "MotionPlanServer_from_seated";
    wait ms 25000;
    stop cmd "DemoAffordanceServer";
}

script "dev.authoring_scoot_right" { 
    start group "0.development";
    start group "a.1.core";
    start cmd "DemoAffordanceServer";
    start cmd "PublishDriverSeatedState";
    start cmd "AuthoringGUI";
    start cmd "MotionPlanServer_from_seated";
    wait ms 25000;
    stop cmd "DemoAffordanceServer";
}

script "dev.authoring_from_standing" { 
    start group "0.development";
    start group "a.1.core";
    start cmd "DemoAffordanceServer";
    start cmd "AuthoringGUI";
    start cmd "MotionPlanServer_from_standing";
    start cmd "MotionPlanServer_from_standing_oneshot";
    wait ms 5000;
    start cmd "PublishStandingState";
}

script "dev.authoring_from_prone" { 
    start group "0.development";
    start group "a.1.core";
    start cmd "DemoAffordanceServer";
    start cmd "AuthoringGUI";
    start cmd "MotionPlanServer_from_prone";
    start cmd "MotionPlanServer_from_prone_oneshot";
    wait ms 5000;
    start cmd "PublishProneState";
}

script "dev.authoring_online" { 
    start group "0.development";
    start group "a.1.core";
    start cmd "DemoAffordanceServer";
    start cmd "AuthoringGUI";
    start cmd "MotionPlanServer_online";
}
