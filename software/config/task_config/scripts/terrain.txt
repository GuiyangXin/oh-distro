
============
TERRAIN TASK
============

Operator: Robin
Wingman: Scott
Monitor: ???
Field team: Matt D. (wrangler), Andres backup wrangler, Steve


day before
----------
Inspect terrain layout:

* Measure distance to zig zags from ramp
* Check arrangement of tilted steps

during physical prep
--------------------

* check that hands are as desired (iRobot left, Robotiq right)
* wipe off bottoms of feet


during run prep
---------------


when in place, but before clock starts
--------------------------------------

* Robot power

* Preset to BDI Obstacle Stepping
* Show EE forces ON
* Turn on show step details
* Set scene height to on request
* Set workspace depth rate to 10 sec
* Set field of view to 80
* Set map mode to flat ground

* Wingman: turn footstep renderer ON

* Log out of all open ssh sessions
* Confirm hands closed
* Calibrate
* Prep, and wait for team to lower the bot
* Stand
* Go to manip mode to trigger roll glitch
* Go to stand
* Head to 65 degrees
* Turn off debug map view
* Set scene height view to wireframe

* check IMU drift
* Move to correct starting position

* Set map mode to full heights
* Set path to spline
* Left leading foot
* Set forward step to 19cm

* Make footstep plan from start to peak of ramp
	* CHECK: verify that transitional step from flat to ramp has good normal & height

once run starts
---------------

* start timer

* Don't fall over!
* Walk to peak of ramp
* Walk over peak of ramp
* Walk down ramp and onto zig zag blocks
* Step down from zig zag blocks
* Switch to flat ground height maps
during ramp
-----------

* stop before top


during flat steps
-----------------
* Ascent: 
	* Right lead
	* Plan 2 steps at a time
	* Set forward step to 35cm 
        * Set z normals
* At peak:
    * Keep toe one and a half boxes back from edge
    * disable toe-off
* Descent:
	* Stay at least 1.5 boxes back from front edges of steps!
* on flat
       * enable toe-off

on flat
-----
* set map mode to flat ground
* set nominal forward step to 20cm

during tilted steps
-------------------

* Remind: stay back from first step up (at least 2 heightmap boxes)

* Set right foot to lead foot
*** Set map mode to full heights
* Set max number of steps to two
* Set nominal forward step to 35cm
* Set sway duration to 5s
* check IMU drift

* Ascent:
    * Say, "Robin, give me an audible upon reaching peak"

* At peak:
    * Disable toe-off
    * Check that next block is down
    * Switch leading foot to left
    * Keep toe one and a half boxes back from edge

* At last step:
    * Switch to manip
    * Scott set pelvis to height 90, pitch as needed to see toes
      [Wait until can see toes]
    * Ensure that right food forward displacement is <= 27cm
    * Scott restore pelvis parameters
    * Switch back to stand
    * Check footsteps

* On reaching flat ground:
    * Switch to BDI step preset
    * Set map mode to flat ground
    * Step calmly across finish

after run ends
--------------

* Party

