#include <iostream>
#include <Eigen/Dense>
#include <collision/collision_object_point_cloud.h>

using namespace std;
using namespace Eigen;
using namespace collision;

int 
main( int argc, 
      char** argv )
{
  cout << endl << "start of collision-object-point-cloud-test" << endl << endl;
  // create a collision object class with 1000 spheres, each with a radius of 0.1 meters
  Collision_Object_Point_Cloud collision_object_point_cloud( "pc1", 1000, 0.1 );
  
  vector< Vector3f > points;
  for( unsigned int i = 0; i < 100; i++ ){
    Vector3f point( -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0, 
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0,
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0 );
    points.push_back( point );
  }

  collision_object_point_cloud.set( points );
  cout << "collision_object_point_cloud: " << collision_object_point_cloud << endl;

  points.clear();
  for( unsigned int i = 0; i < 200; i++ ){
    Vector3f point( -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0,
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0,
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0 );
    points.push_back( point );
  }

  collision_object_point_cloud.set( points );
  cout << "collision_object_point_cloud: " << collision_object_point_cloud << endl;

  points.clear();
  for( unsigned int i = 0; i < 50; i++ ){
    Vector3f point( -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0,
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0,
                    -5.0 + 10.0 * ( rand() % 1000 ) / 1000.0 );
    points.push_back( point );
  }

  collision_object_point_cloud.set( points );
  cout << "collision_object_point_cloud: " << collision_object_point_cloud << endl;

  cout << endl << "end of collision-object-point-cloud-test" << endl << endl;
  return 0;
}
